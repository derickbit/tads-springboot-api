### =======================================
### TAREFA 4 - ROTEIRO DE TESTE JWT
### =======================================

###
### PASSO 1: Fazer Login como Admin
#
# Rode este teste (clique no ▶️ verde).
# Ele deve retornar um Status 200 OK.
#
# Na resposta (no painel "Run"), você verá um JSON: {"token": "ey..."}
#
# !! IMPORTANTE: Copie APENAS a string longa que começa com "ey...",
#    SEM as aspas e SEM as chaves {}.
###
# @name loginAdmin
POST http://localhost:8080/api/v1/login
Content-Type: application/json

{
  "email": "admin@email.com",
  "senha": "admin"
}


### =======================================
### PASSO 2: Testar Acesso a Rota Protegida (GET)
#
# 1. Copie o token do PASSO 1.
# 2. Cole o token DEPOIS da palavra "Bearer " na linha "Authorization:".
# 3. Rode este teste.
#
# ESPERADO: Status 200 OK e a lista com seu usuário Admin.
###
# @name getUsersComToken
GET http://localhost:8080/api/v1/users
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJBUEkgQ2FyZE5lc3QiLCJzdWIiOiJhZG1pbkBlbWFpbC5jb20iLCJpYXQiOjE3NjQ4NTg3NjksImV4cCI6MTc2NDg2NTk2OX0.Bz6jpv_3rf-Nl5UVXBVDTEqr1DYhWQF0que0IFrurls


### =======================================
### PASSO 3: Testar Rota de ADMIN (POST)
#
# 1. Use o MESMO token de Admin que você colou no PASSO 2.
# 2. Rode este teste.
#
# ESPERADO: Status 201 CREATED.

###
# @name createUserComToken
POST http://localhost:8080/api/v1/users
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJBUEkgQ2FyZE5lc3QiLCJzdWIiOiJhZG1pbkBlbWFpbC5jb20iLCJpYXQiOjE3NjQ4NTg3NjksImV4cCI6MTc2NDg2NTk2OX0.Bz6jpv_3rf-Nl5UVXBVDTEqr1DYhWQF0que0IFrurls
Content-Type: application/json

{
  "name": "Novo Usuario (Criado pelo Admin)",
  "email": "novo.user@email.com",
  "senha": "123456",
  "role": "ROLE_USER"
}


###
# @name updateUserComToken
PUT http://localhost:8080/api/v1/users/2
Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJBUEkgQ2FyZE5lc3QiLCJzdWIiOiJhZG1pbkBlbWFpbC5jb20iLCJpYXQiOjE3NjQ4NTg3NjksImV4cCI6MTc2NDg2NTk2OX0.Bz6jpv_3rf-Nl5UVXBVDTEqr1DYhWQF0que0IFrurls
Content-Type: application/json

{
  "name": "Usuario Atualizado (Editado)",
  "email": "atualizado.user@email.com",
  "role": "ROLE_ADMIN"
}